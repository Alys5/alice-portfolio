@use "sass:map";
@use "sass:color";
@use "sass:math";
@use "./variables" as main;
/* =========================
  MODERN CSS RESET 2025 - PROFESSIONAL
   ========================= */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
  scrollbar-width: thin;
  scrollbar-color: var(--persian-blue) var(--charcoal);
}

body {
  min-height: 100vh;
  font-family: 'Inter Variable', 'Inter', system-ui, sans-serif;
  font-weight: 400;
  line-height: 1.6;
  background: var(--charcoal);
  color: var(--bright-sun);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* =========================
  CUSTOM PROPERTIES: PALETTE ALICE MANDELLI
   ========================= */
:root {
  /* Alice Mandelli Signature Palette */
  --bright-sun: #{main.$bright-sun};
  --ebony-clay: #{main.$ebony-clay};
  --persian-blue: #{main.$persian-blue};
  --picton-blue: #{main.$picton-blue};
  --charcoal: #{main.$charcoal};
  --slate-gray: #{main.$slate-gray};
  --emerald: #{main.$emerald};
  --crimson: #{main.$crimson};

  /* Color variants for gradients and effects */
  --bright-sun-light: #{main.$bright-sun-light};
  --bright-sun-lighter: #{main.$bright-sun-lighter};
  --bright-sun-dark: #{main.$bright-sun-dark};
  --persian-blue-light: #{main.$persian-blue-light};
  --persian-blue-lighter: #{main.$persian-blue-lighter};
  --picton-blue-light: #{main.$picton-blue-light};
  --picton-blue-lighter: #{main.$picton-blue-lighter};

  /* Alpha versions per glassmorphism avanzato */
  --bright-sun-alpha: #{main.$bright-sun-alpha};
  --ebony-clay-alpha: #{main.$ebony-clay-alpha};
  --persian-blue-alpha: #{main.$persian-blue-alpha};
  --picton-blue-alpha: #{main.$picton-blue-alpha};

  /* Glassmorphism layers */
  --glass-ultra-light: #{main.$glass-ultra-light};
  --glass-light: #{main.$glass-light};
  --glass-medium: #{main.$glass-medium};
  --glass-heavy: #{main.$glass-heavy};

  /* Typography responsive */
  --font-size-xs: #{map.get(main.$font-sizes, 'xs')};
  --font-size-sm: #{map.get(main.$font-sizes, 'sm')};
  --font-size-base: #{map.get(main.$font-sizes, 'base')};
  --font-size-lg: #{map.get(main.$font-sizes, 'lg')};
  --font-size-xl: #{map.get(main.$font-sizes, 'xl')};
  --font-size-2xl: #{map.get(main.$font-sizes, '2xl')};
  --font-size-3xl: #{map.get(main.$font-sizes, '3xl')};
  --font-size-hero: #{map.get(main.$font-sizes, 'hero')};
  --font-size-display: #{map.get(main.$font-sizes, 'display')};

  /* Spacing system */
  --space-1: #{map.get(main.$spacing, '1')};
  --space-2: #{map.get(main.$spacing, '2')};
  --space-3: #{map.get(main.$spacing, '3')};
  --space-4: #{map.get(main.$spacing, '4')};
  --space-6: #{map.get(main.$spacing, '6')};
  --space-8: #{map.get(main.$spacing, '8')};
  --space-10: #{map.get(main.$spacing, '10')};
  --space-12: #{map.get(main.$spacing, '12')};
  --space-16: #{map.get(main.$spacing, '16')};
  --space-20: #{map.get(main.$spacing, '20')};
  --space-24: #{map.get(main.$spacing, '24')};
  --space-32: #{map.get(main.$spacing, '32')};

  /* Professional shadows */
  --shadow-xs: #{map.get(main.$shadows, 'xs')};
  --shadow-sm: #{map.get(main.$shadows, 'sm')};
  --shadow-md: #{map.get(main.$shadows, 'md')};
  --shadow-lg: #{map.get(main.$shadows, 'lg')};
  --shadow-xl: #{map.get(main.$shadows, 'xl')};
  --shadow-glass: #{map.get(main.$shadows, 'glass-professional')};
  --shadow-glow: #{map.get(main.$shadows, 'glow')};

  /* Motion system */
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  --easing-standard: cubic-bezier(0.4, 0, 0.2, 1);
  --easing-decelerate: cubic-bezier(0, 0, 0.2, 1);
  --easing-accelerate: cubic-bezier(0.4, 0, 1, 1);
  --easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* =========================
  TYPOGRAPHY OPTIMIZATION
   ========================= */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: 'Inter Variable', inherit;
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.025em;
  color: var(--bright-sun);
  text-wrap: balance;
}

h1 {
  font-size: var(--font-size-hero);
  font-weight: 800;
  background: linear-gradient(135deg, var(--bright-sun), var(--emerald));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

h2 {
  font-size: var(--font-size-3xl);
  font-weight: 700;
}

h3 {
  font-size: var(--font-size-2xl);
  font-weight: 600;
}

p,
li,
span,
a {
  font-size: var(--font-size-base);
  letter-spacing: 0.01em;
  text-wrap: pretty;
}

/* =========================
  NEUMORPHIC COMPONENTS
   ========================= */
.neumorphic-card {
  @include main.neumorphic-style(var(--ebony-clay), 'medium', 'raised');
  padding: var(--space-8);

  @include main.neumorphic-hover('medium');
}

.neumorphic-card-light {
  @include main.neumorphic-style(var(--ebony-clay), 'light', 'raised');
  padding: var(--space-6);

  @include main.neumorphic-hover('light');
}

.neumorphic-card-heavy {
  @include main.neumorphic-style(var(--ebony-clay), 'heavy', 'raised');
  padding: var(--space-12);

  @include main.neumorphic-hover('heavy');
}

.neumorphic-button {
  @include main.neumorphic-style(var(--persian-blue), 'medium', 'raised');
  padding: var(--space-4) var(--space-8);
  color: var(--bright-sun);
  font-weight: 600;
  cursor: pointer;
  border: none;
  font-size: var(--font-size-base);

  &:hover {
    @include main.neumorphic-style(var(--persian-blue), 'medium', 'hover');
    transform: translateY(-2px);
  }

  &:active {
    @include main.neumorphic-style(var(--persian-blue), 'medium', 'pressed');
    transform: translateY(0) scale(0.98);
  }

  &.primary {
    @include main.neumorphic-gradient('cta-professional');
  }

  &.secondary {
    @include main.neumorphic-style(var(--ebony-clay), 'medium', 'raised');
    color: var(--bright-sun);
  }

  &.success {
    @include main.neumorphic-gradient('neumorphic-accent');
    background: var(--emerald);
  }
}

.neumorphic-input {
  @include main.neumorphic-style(var(--ebony-clay), 'light', 'pressed');
  padding: var(--space-4);
  background: transparent;
  border: none;
  color: var(--bright-sun);
  font-size: var(--font-size-base);
  width: 100%;

  &::placeholder {
    color: var(--slate-gray);
    opacity: 0.7;
  }

  &:focus {
    outline: none;
    box-shadow:
      inset 4px 4px 8px rgba(0, 0, 0, 0.4),
      inset -4px -4px 8px rgba(255, 255, 255, 0.15),
      0 0 0 2px var(--bright-sun);
  }
}

.neumorphic-icon {
  @include main.neumorphic-style(var(--persian-blue), 'medium', 'raised');
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-neumorphic-round);

  svg {
    width: 30px;
    height: 30px;
    fill: var(--bright-sun);
  }

  @include main.neumorphic-hover('medium');
}

.neumorphic-progress {
  @include main.neumorphic-style(var(--charcoal), 'light', 'pressed');
  height: 8px;
  overflow: hidden;
  border-radius: var(--radius-neumorphic-round);

  .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--bright-sun), var(--emerald));
    border-radius: inherit;
    transition: width 1s var(--easing-standard);
  }
}

/* =========================
  GLASSMORPHISM UTILITIES
   ========================= */
.glass-light {
  background: var(--glass-light);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-medium);
  border-radius: 1rem;
  box-shadow: var(--shadow-glass);
  transition: all var(--duration-normal) var(--easing-standard);

  &:hover {
    background: var(--glass-medium);
    transform: translateY(-2px);
    box-shadow: var(--shadow-xl);
  }
}

.glass-medium {
  background: var(--glass-medium);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  box-shadow: var(--shadow-glass);
}

.glass-heavy {
  background: var(--glass-heavy);
  backdrop-filter: blur(40px);
  -webkit-backdrop-filter: blur(40px);
  box-shadow: var(--shadow-glass);
}

/* =========================
  FOCUS & ACCESSIBILITY
   ========================= */
:focus-visible {
  outline: 2px solid var(--bright-sun);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
  transition: outline 0.2s var(--easing-smooth);
}

.skip-links {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
}

.skip-link {
  background: var(--bright-sun);
  color: var(--ebony-clay);
  padding: 0.5rem 1rem;
  position: absolute;
  left: -999px;
  top: 0;
  transition: left 0.2s;
}

.skip-link:focus {
  left: 0;
}

@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}

/* =========================
  DARK MODE
   ========================= */
@media (prefers-color-scheme: dark) {
  :root {
    --background: var(--ebony-clay);
    --text: #fff;
    --accent: var(--bright-sun);
    --bright-sun: #ffc940;
    --ebony-clay: #29353f;
    --persian-blue: #2048b4;
    --picton-blue: #48a9f8;
  }

  body {
    background: var(--ebony-clay);
    color: var(--bright-sun);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--bright-sun);
    text-shadow: 0 0 10px var(--bright-sun);
  }
}

/* =========================
  RESPONSIVE BREAKPOINTS
   ========================= */
@media (max-width: 767px) {
  html {
    font-size: 15px;
  }

  body {
    padding: var(--space-2);
  }
}

@media (min-width: 768px) and (max-width: 1023px) {
  html {
    font-size: 16px;
  }

  body {
    padding: var(--space-3);
  }
}

@media (min-width: 1024px) {
  html {
    font-size: 17px;
  }

  body {
    padding: var(--space-4);
  }
}

@media (min-width: 1440px) {
  html {
    font-size: 18px;
  }

  body {
    padding: var(--space-5);
  }
}

/* =========================
  UTILITY CLASSES
   ========================= */
.text-bright-sun {
  color: var(--bright-sun);
}

.text-ebony-clay {
  color: var(--ebony-clay);
}

.text-persian-blue {
  color: var(--persian-blue);
}

.text-picton-blue {
  color: var(--picton-blue);
}

.bg-bright-sun {
  background: var(--bright-sun);
}

.bg-ebony-clay {
  background: var(--ebony-clay);
}

.bg-persian-blue {
  background: var(--persian-blue);
}

.bg-picton-blue {
  background: var(--picton-blue);
}

.shadow-glass {
  box-shadow: var(--shadow-glass);
}

/* =========================
  TRANSITIONS
   ========================= */
* {
  transition: background 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
    color 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
    box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* =========================
  GLASSMORPHISM PROFESSIONAL SYSTEM
   ========================= */
.glass-card {
  background: var(--glass-light);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-medium);
  border-radius: 1rem;
  box-shadow: var(--shadow-glass);
  transition: all var(--duration-normal) var(--easing-standard);

  &:hover {
    background: var(--glass-medium);
    transform: translateY(-2px);
    box-shadow: var(--shadow-xl);
  }
}

.glass-navbar {
  background: var(--glass-ultra-light);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border-bottom: 1px solid var(--glass-light);
  position: sticky;
  top: 0;
  z-index: 1000;
}

.glass-modal {
  background: var(--glass-heavy);
  backdrop-filter: blur(30px);
  -webkit-backdrop-filter: blur(30px);
  border: 1px solid var(--glass-medium);
}

/* =========================
  BENTO GRID SYSTEM
   ========================= */
.bento-grid {
  display: grid;
  gap: var(--space-6);
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));

  @media (min-width: 768px) {
    grid-template-columns: repeat(12, 1fr);
    gap: var(--space-8);
  }
}

.bento-item {
  background: var(--glass-light);
  backdrop-filter: blur(20px);
  border: 1px solid var(--glass-medium);
  border-radius: 1rem;
  padding: var(--space-6);
  transition: all var(--duration-normal) var(--easing-standard);

  &:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-xl);
  }

  // Varianti dimensioni
  &--small { grid-column: span 3; grid-row: span 1; }
  &--medium { grid-column: span 4; grid-row: span 2; }
  &--large { grid-column: span 6; grid-row: span 2; }
  &--hero { grid-column: span 8; grid-row: span 3; }

  @media (max-width: 767px) {
    &--small, &--medium, &--large, &--hero {
      grid-column: span 1;
      grid-row: span 1;
    }
  }
}

/* =========================
  PROFESSIONAL COMPONENTS
   ========================= */
.cta-button {
  background: linear-gradient(135deg, var(--persian-blue), var(--picton-blue));
  color: white;
  padding: var(--space-4) var(--space-8);
  border: none;
  border-radius: 0.75rem;
  font-weight: 600;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  transition: all var(--duration-normal) var(--easing-standard);
  box-shadow: var(--shadow-md);

  &:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-xl), var(--shadow-glow);
  }

  &:active {
    transform: translateY(0);
  }
}

.section-container {
  max-width: 1280px;
  margin: 0 auto;
  padding: var(--space-20) var(--space-6);

  @media (min-width: 768px) {
    padding: var(--space-32) var(--space-8);
  }
}

/* =========================
  DARK MODE OTTIMIZZATO
   ========================= */
@media (prefers-color-scheme: light) {
  :root {
    --background-primary: #ffffff;
    --background-secondary: #f8fafc;
    --text-primary: var(--charcoal);
    --text-secondary: var(--slate-gray);
  }

  body {
    background: var(--background-primary);
    color: var(--text-primary);
  }

  .glass-card {
    background: rgba(255, 255, 255, 0.7);
    border: 1px solid rgba(0, 0, 0, 0.1);
  }
}

/* =========================
  PERFORMANCE OTTIMIZZAZIONI
   ========================= */
.will-change-transform { will-change: transform; }
.will-change-opacity { will-change: opacity; }
.will-change-auto { will-change: auto; }

/* =========================
  UTILITY CLASSES PROFESSIONALI
   ========================= */
.text-gradient-primary {
  background: linear-gradient(135deg, var(--bright-sun), var(--emerald));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-gradient-accent {
  background: linear-gradient(90deg, var(--persian-blue), var(--picton-blue));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.container-fluid {
  width: 100%;
  padding-left: var(--space-4);
  padding-right: var(--space-4);

  @media (min-width: 640px) {
    padding-left: var(--space-6);
    padding-right: var(--space-6);
  }

  @media (min-width: 1024px) {
    padding-left: var(--space-8);
    padding-right: var(--space-8);
  }
}
